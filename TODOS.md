## 分阶段待办（To-dos）

### M0 基础设施
- [ ] 初始化前端工程与主题、移动优先样式基线
- [ ] 初始化后端工程、日志与错误中间件、安全头与 CORS
- [ ] 配置 Lint/Format/TypeCheck 与 Git Hooks
- [ ] 定义 `.env` 与环境变量（API_BASE、TOKEN_KEY）

验收标准：工程可启动、接口可通、主题/字号/触控基线生效。

### M1 登录与仪表
- [ ] 登录/登出/会话保持（JWT）
- [ ] 角色权限（店长/店员），路由守卫与后端鉴权中间件
- [ ] 首页：今日取货数、库存预警、快捷入口
- [ ] 响应式导航：移动底部 Tab；桌面侧栏

验收标准：不同角色访问控制正确；移动/桌面导航均可用。

### M2 取货登记（核心）
- [ ] 步骤流（类型→产品→取货人→费用→提交）
- [ ] 定价策略（自用/VIP/分销/活动）与应收计算
- [ ] 库存扣减与库存不足可恢复错误
- [ ] 订单编号、支付方式标记、成功反馈与撤销窗口

验收标准：创建订单自动扣减配方原料；不同类型价格正确。

### M3 进货与库存
- [ ] 入库：原料名称、数量(克)、成本
- [ ] 库存视图：原料、现存量、单位、状态（搜索/排序）
- [ ] 预警阈值设置与首页徽标联动
- [ ] 库存流水：入库/出库明细

验收标准：入库后库存与流水同步更新；预警逻辑准确。

### M4 配方与产品
- [ ] 产品维护（名称、基础价）
- [ ] 配方编辑（原料+克数，增删改）
- [ ] 配方调用记录
- [ ] 足量性预校验（下单前）

验收标准：编辑配方生效；扣减与统计均按最新配方执行。

### M5 费用统计与导出
- [ ] 统计（日/周/月 + 类型筛选）
- [ ] 指标卡（应收合计、成本、毛利试算）
- [ ] 图表（ECharts）与导出 CSV/Excel

验收标准：统计口径一致；导出文件含筛选条件与时间区间。

### M6 账号与设置
- [ ] 店员管理（增删改、重置密码/状态）
- [ ] 修改密码、数据导出、关于与反馈

验收标准：权限与状态流转正确；导出可复用。

### M7 可用性与无障碍
- [ ] 尼尔森 10 项检查通过（见 UX_CHECKLIST.md）
- [ ] 键盘可达/焦点环/语义标签/对比度
- [ ] 空态/加载态/骨架屏与出错可恢复

验收标准：走查清单全部通过；关键路径任务 < 3 步完成。
